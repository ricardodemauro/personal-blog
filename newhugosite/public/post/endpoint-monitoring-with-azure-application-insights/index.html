<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Endpoint Monitoring with Azure Application Insights | rmauro.dev {blog}</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Let&rsquo;s explore the use of Microsoft Azure Application Insights to monitor the health of our application using the endpoint /healthcheck.
Applications Insights it&rsquo;s a great tool for monitoring, error logging, performance monitoring, dependency mapping, and other things. In other words, it&rsquo;s a full APM - Application Performance Management - ready for you to use in Production Environments.
Application Insights, a feature of Azure Monitor, is an extensible Application Performance Management (APM) service for developers and DevOps professionals.">
    <meta name="generator" content="Hugo 0.130.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/post/endpoint-monitoring-with-azure-application-insights/">
    

    <meta property="og:url" content="http://localhost:1313/post/endpoint-monitoring-with-azure-application-insights/">
  <meta property="og:site_name" content="rmauro.dev {blog}">
  <meta property="og:title" content="Endpoint Monitoring with Azure Application Insights">
  <meta property="og:description" content="Let‚Äôs explore the use of Microsoft Azure Application Insights to monitor the health of our application using the endpoint /healthcheck.
Applications Insights it‚Äôs a great tool for monitoring, error logging, performance monitoring, dependency mapping, and other things. In other words, it‚Äôs a full APM - Application Performance Management - ready for you to use in Production Environments.
Application Insights, a feature of Azure Monitor, is an extensible Application Performance Management (APM) service for developers and DevOps professionals.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2020-09-28T15:14:09+00:00">
    <meta property="article:modified_time" content="2020-09-28T15:14:09+00:00">
    <meta property="article:tag" content="Azure">
    <meta property="article:tag" content="Application Insights">
    <meta property="article:tag" content="En">
    <meta property="article:tag" content="Devops">
    <meta property="article:tag" content="Monitoring">

  <meta itemprop="name" content="Endpoint Monitoring with Azure Application Insights">
  <meta itemprop="description" content="Let‚Äôs explore the use of Microsoft Azure Application Insights to monitor the health of our application using the endpoint /healthcheck.
Applications Insights it‚Äôs a great tool for monitoring, error logging, performance monitoring, dependency mapping, and other things. In other words, it‚Äôs a full APM - Application Performance Management - ready for you to use in Production Environments.
Application Insights, a feature of Azure Monitor, is an extensible Application Performance Management (APM) service for developers and DevOps professionals.">
  <meta itemprop="datePublished" content="2020-09-28T15:14:09+00:00">
  <meta itemprop="dateModified" content="2020-09-28T15:14:09+00:00">
  <meta itemprop="wordCount" content="484">
  <meta itemprop="keywords" content="Azure,Application Insights,En,Devops,Monitoring">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Endpoint Monitoring with Azure Application Insights">
  <meta name="twitter:description" content="Let‚Äôs explore the use of Microsoft Azure Application Insights to monitor the health of our application using the endpoint /healthcheck.
Applications Insights it‚Äôs a great tool for monitoring, error logging, performance monitoring, dependency mapping, and other things. In other words, it‚Äôs a full APM - Application Performance Management - ready for you to use in Production Environments.
Application Insights, a feature of Azure Monitor, is an extensible Application Performance Management (APM) service for developers and DevOps professionals.">

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        rmauro.dev {blog}
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Endpoint Monitoring with Azure Application Insights</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-09-28T15:14:09Z">September 28, 2020</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Let&rsquo;s explore the use of Microsoft Azure Application Insights to monitor the health of our application using the endpoint <em>/healthcheck</em>.</p>
<p>Applications Insights it&rsquo;s a great tool for monitoring, error logging, performance monitoring, dependency mapping, and other things. In other words, it&rsquo;s a full APM - Application Performance Management - ready for you to use in Production Environments.</p>
<blockquote>
<p>Application Insights, a feature of <a href="https://docs.microsoft.com/pt-br/azure/azure-monitor/overview">Azure Monitor</a>, is an extensible Application Performance Management (APM) service for developers and DevOps professionals.<a href="https://docs.microsoft.com/pt-br/azure/azure-monitor/app/app-insights-overview">https://docs.microsoft.com/pt-br/azure/azure-monitor/app/app-insights-overview</a></p>
</blockquote>
<h2 id="-in-this-issue">üí¨ In this Issue</h2>
<ul>
<li><a href="#recap-of-previous-articles">Recap of Previous Articles</a></li>
<li><a href="#check-the-prices-before-use-in-production">Check the Prices Before Use in Production</a></li>
<li><a href="#one-simple-requirement">One Simple Requirement</a></li>
<li><a href="#creating-application-insights-resource">Creating the Application Insights Resource</a></li>
<li><a href="#conclusion-the-results">Conclusion - The Results</a></li>
</ul>
<h2 id="recap-of-previous-articles">Recap of Previous Articles</h2>
<p>This is the third article about <em>Health Checks</em> and <em>Application Monitoring</em>.</p>
<ol>
<li><a href="__GHOST_URL__/adding-health-checks-to-net-core-application/">Adding Health Check endpoint</a></li>
<li><a href="__GHOST_URL__/adding-health-checks-ui/">Adding UI Health Check</a></li>
<li><strong>Using Application Insights Endpoint Monitoring</strong> &ndash;&gt; this article</li>
<li>Using Azure App Services Endpoint Monitoring</li>
</ol>
<h2 id="check-the-prices-before-use-in-production">Check the Prices Before Use in Production</h2>
<p>Check out the prices before adopt in your work project.</p>
<figure><img src="https://res-5.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/ai-pricing.png"
    alt="Prices from https://azure.microsoft.com/en-us/pricing/details/monitor/"><figcaption>
      <p>Prices from <a href="https://azure.microsoft.com/en-us/pricing/details/monitor/">https://azure.microsoft.com/en-us/pricing/details/monitor/</a></p>
    </figcaption>
</figure>

<p>Check the latest updated prices at <a href="https://azure.microsoft.com/en-us/pricing/details/monitor/">https://azure.microsoft.com/en-us/pricing/details/monitor/</a>.</p>
<h2 id="one-simple-requirement">One Simple Requirement</h2>
<p>Our API should be available over the internet (Application Insights should have access to hit it).</p>
<p>This article assumes that you have a <strong>Health Checks</strong> endpoint up and running available over the internet.</p>
<blockquote>
<p>Go back to this <a href="__GHOST_URL__/adding-health-checks-to-net-core-application/">article</a> to set up and then return here.<em>The Health Check UI is not necessary for this article, only the API endpoint.</em></p>
</blockquote>
<p>I published mine at <a href="https://webapphealthchecks.azurewebsites.net/">https://webapphealthchecks.azurewebsites.net/</a>You can use it for testing purposes if you like.</p>
<h2 id="creating-the-application-insights-resource">Creating the Application Insights Resource</h2>
<p>Access the Azure Portal at <a href="https://portal.azure.com"><em>https://portal.azure.com</em></a> and access the <strong>Application Insights</strong> blade and click <strong>Add</strong> to create a new resource.</p>
<figure><img src="https://res-5.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/portal-azure.png"
    alt="Create Application Insights Resource"><figcaption>
      <p>Create Application Insights Resource</p>
    </figcaption>
</figure>

<p>Enter all the required information to create the resource, such as <em>subscription</em>, <em>resource group</em>, etc.When asked for the <em>Resource Mode</em> choose the <code>Classic</code>.</p>
<figure><img src="https://res-5.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/ai-create-1.png"
    alt="Creating the AI"><figcaption>
      <p>Creating the AI</p>
    </figcaption>
</figure>

<p>Once the Application Insights it&rsquo;s created, go to the <code>Availability</code> section.This is where the monitoring tool is configured to watch our endpoint.</p>
<figure><img src="https://res-2.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/ai-created.png"
    alt="Go to Availability"><figcaption>
      <p>Go to Availability</p>
    </figcaption>
</figure>

<p>Now click on the <code>+Add Test</code> button.</p>
<figure><img src="https://res-3.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/AI-create-test.png"
    alt="Adding Test"><figcaption>
      <p>Adding Test</p>
    </figcaption>
</figure>

<p>Fill in the required information.</p>
<ul>
<li>Test name: <em>AI-Ping-WebApp</em></li>
<li>Test Type: <em>URL ping test</em></li>
<li>URL: <a href="https://webapphealthchecks.azurewebsites.net/healthcheck"><em>https://webapphealthchecks.azurewebsites.net/healthcheck</em></a></li>
<li>Parse dependent requests: <em>unchecked</em></li>
<li>Enable retries for availability test failures: <em>checked</em></li>
<li>Test frequency: <em>5 minutes</em></li>
<li>Test locations: <em>default values</em></li>
<li>Test Timeout: <em>120 seconds</em></li>
<li>HTTP Response: <em>checked</em></li>
<li>Status code must equal: <em>200</em></li>
<li>Content match: <em>checked</em></li>
<li>Content must contain: <em>Healthy</em></li>
<li>Alerts: <em>leave as default</em></li>
</ul>
<p>And then <strong>Create</strong>.</p>
<figure><img src="https://res-2.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/ai-ping-test-full-2.png"
    alt="Configure Application Insights Web Test"><figcaption>
      <p>Configure Application Insights Web Test</p>
    </figcaption>
</figure>

<h2 id="the-results">The Results</h2>
<p>Now just wait for the tests to begin and show the results. After a few minutes, you should get something like this.</p>
<figure><img src="https://res-3.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/ai-ping-test-result.png"
    alt="Line View Test Results"><figcaption>
      <p>Line View Test Results</p>
    </figcaption>
</figure>

<figure><img src="https://res-3.cloudinary.com/ht54oxr6q/image/upload/q_auto/v1/ghost-blog-images/ai-ping-test-result-2.png"
    alt="Scatter Plot Test Results"><figcaption>
      <p>Scatter Plot Test Results</p>
    </figcaption>
</figure>

<h2 id="-final-thoughts"><strong>üòé Final thoughts</strong></h2>
<p>Wow, finally we made it. That is enough!</p>
<p>Of course, we can keep going adding more monitoring and making more use of Application Insights.</p>
<p>Share in the comments section what you would do to make it even better or different.</p>
<h2 id="-enjoy-this-article"><strong>‚ù§Ô∏è Enjoy this article?</strong></h2>
<p><strong><strong>Forward to a friend</strong></strong> and let them know.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/Azure/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Azure</a>
   </li>
  
   <li class="list di">
     <a href="/tags/Application-Insights/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Application Insights</a>
   </li>
  
   <li class="list di">
     <a href="/tags/en/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">En</a>
   </li>
  
   <li class="list di">
     <a href="/tags/devops/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Devops</a>
   </li>
  
   <li class="list di">
     <a href="/tags/Monitoring/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Monitoring</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/post/adding-health-checks-ui/">Adding Health Checks UI</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/azure-app-service-and-cloudflare-with-full-ssl-strict/">Azure App Service and Cloudflare with Full SSL (Strict)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/az203-official-course-delivered-yes/">Yet Another AZ-203 Microsoft Official Course Delivered.</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/create-azure-virtual-machine-using-powershell/">Create Azure Virtual Machine Using PowerShell</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/azure-storage-disks/">Azure Storage Disks - Managed and unmanaged disks</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/azure-app-service-e-cloudflare-com-ssl-full-strict/">Azure App Service e Cloudflare com SSL Full (strict)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/deploying-net-container-app-to-heroku-cloud/">Deploying .Net container App to Heroku cloud</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/azure-kubernets-az-cli/">Azure Kubernets - az cli</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/demo-azure-batch/">Demo - Azure Batch</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/azcli-create-resource-though-resource-file/">az cli (bash) create resource though Resource File</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/enable-local-cache-in-azure-web-app/">Enable Local Cache in Azure Web App</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/demo-webjob-azure-cron-expressions/">Demo WebJob Azure - CRON expressions</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/enable-azure-disk-encryption-though-az-cli/">Enable Azure Disk Encryption though az-cli</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/create-azure-vm-though-powershell/">Create Azure VM though PowerShell</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/post/generating-a-self-signed-certificate-using-powershell/">Generating a Self-Signed Certificate using Powershell</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  rmauro.dev {blog} 2024 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
